!function(e,n,t){"use strict";e.module("angular-debug-bar",[]),e.module("angular-debug-bar").factory("DebugBarFactory",["$timeout",function(o){var a={},u=t.performance||t.msPerformance||t.webkitPerformance||t.mozPerformance,c=function(){},i=function(n,t){var o=function(){};return o.prototype=new c,e.extend(o.prototype,t),a[n]=new o,a[n]},r={valueName:void 0,unit:void 0,label:void 0,icon:void 0},l=function(){e.forEach(a,function(e){e.setDefault()})},s=function(e){o(e,1e3)},f={reload:l,registerPlugin:i,getPlugins:function(){return a}};return e.extend(c.prototype,{setDefault:function(){throw new Error("Unimplemented method :setDefault")},extendScope:function(){throw new Error("Unimplemented method :extendScope")},getParams:function(){throw new Error("Unimplemented method :getParams")}}),i("watchCount",{setDefault:function(){this.scope.watchCount=0},extendScope:function(t){t.watchCount=0,s(function(){var o=e.element(n.getElementsByTagName("html")),a=[],u=function(n){n.data().hasOwnProperty("$scope")&&e.forEach(n.data().$scope.$$watchers,function(e){a.push(e)}),e.forEach(n.children(),function(n){u(e.element(n))})};0===a.length&&u(o),t.watchCount=a.length})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"watchCount",label:"Watchers",icon:"icon-eye"}),n}}),i("listenerCount",{setDefault:function(){this.scope.listenerCount=0},extendScope:function(t){t.listenerCount=0,s(function(){var o=e.element(n.getElementsByTagName("html")),a=[],u=function(n){n.data().hasOwnProperty("$scope")&&e.forEach(n.data().$scope.$$listeners,function(e){a.push(e)}),e.forEach(n.children(),function(n){u(e.element(n))})};0===a.length&&u(o),t.listenerCount=a.length})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"listenerCount",label:"Listeners",icon:"icon-headphones"}),n}}),i("DOMObjectCount",{setDefault:function(){this.scope.DOMObjectCount=0},extendScope:function(e){e.DOMObjectCount=0,s(function(){e.DOMObjectCount=n.all.length})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"DOMObjectCount",label:"DOM objects",icon:"icon-home"}),n}}),i("loadTime",{setDefault:function(){this.scope.loadTime=0},extendScope:function(e){e.loadTime=0,s(function(){e.loadTime=u.timing.loadEventStart-u.timing.navigationStart})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"loadTime",label:"Load time",unit:"ms"}),n}}),i("latency",{setDefault:function(){this.scope.latency=0},extendScope:function(e){e.latency=0,s(function(){e.latency=u.timing.responseStart-u.timing.connectStart})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"latency",label:"Latency",unit:"ms"}),n}}),i("cssCount",{setDefault:function(){this.scope.cssCount=0},extendScope:function(e){e.cssCount=0,s(function(){e.cssCount=n.querySelectorAll('link[rel="stylesheet"]').length})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"cssCount",label:"CSS"}),n}}),i("jsCount",{setDefault:function(){this.scope.jsCount=0},extendScope:function(e){e.jsCount=0,s(function(){e.jsCount=n.querySelectorAll("script").length})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"jsCount",label:"JS"}),n}}),i("imgCount",{setDefault:function(){this.scope.imgCount=0},extendScope:function(e){e.imgCount=0,s(function(){e.imgCount=n.querySelectorAll("img").length})},getParams:function(){var n=e.copy(r);return e.extend(n,{valueName:"imgCount",label:"Images"}),n}}),f}]),e.module("angular-debug-bar").directive("angularDebugBarPlugins",["$compile",function(n){var t=function(e){var n='<li><div class="value-wrapper">';return e.icon&&(n+='<i class="'+e.icon+'"></i>'),n+='<span class="value" ng-bind="'+e.valueName+'"></span>',e.unit&&(n+='<span class="unit">'+e.unit+"</span>"),n+="</div>",e.label&&(n+='<h3 class="label">'+e.label+"</h3>"),n+"</li>"};return{restrict:"E",replace:!0,scope:!1,template:"<ul></ul>",link:function(o,a){e.forEach(o.plugins,function(e){var u=o.$new();e.scope=u,e.extendScope(u),a.append(n(t(e.getParams()))(u))})}}}]),e.module("angular-debug-bar").directive("angularDebugBar",["$compile","DebugBarFactory",function(e,n){return{restrict:"E",replace:!0,scope:!0,controller:function(e){e.plugins={},e.show=!1,e.showHide=function(n){n.preventDefault(),e.show=!e.show}},compile:function(t){var o='<div id="angular-debug-bar" ng-class="{ \'show\': show }"><button class="icon-cog" ng-click="showHide($event)"></button><angular-debug-bar-plugins></angular-debug-bar-plugins></div>';return function(a){a.plugins=n.getPlugins(),t.replaceWith(e(o)(a)),a.$on("$routeChangeSuccess",function(){n.reload()})}}}}])}(angular,document,window);